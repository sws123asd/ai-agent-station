<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="fun.wswj.ai.infrastructure.dao.AiClientToolMcpDao">
    <resultMap id="BaseResultMap" type="fun.wswj.ai.infrastructure.dao.po.AiClientToolMcp">
        <id column="id" property="id" jdbcType="BIGINT" />
        <result column="mcp_id" property="mcpId" jdbcType="VARCHAR" />
        <result column="mcp_name" property="mcpName" jdbcType="VARCHAR" />
        <result column="transport_type" property="transportType" jdbcType="VARCHAR" />
        <result column="transport_config" property="transportConfig" jdbcType="VARCHAR" />
        <result column="request_timeout" property="requestTimeout" jdbcType="INTEGER" />
        <result column="status" property="status" jdbcType="TINYINT" />
        <result column="create_time" property="createTime" jdbcType="DATE" />
        <result column="update_time" property="updateTime" jdbcType="DATE" />
    </resultMap>
    <sql id="Base_Column_List">
        id,mcp_id,mcp_name,transport_type,transport_config,request_timeout,status,create_time,update_time
    </sql>
    <select id="queryValidByMcpIds" resultMap="BaseResultMap">
        select <include refid="Base_Column_List"/>
        from ai_client_tool_mcp
        where status = 1
        and mcp_id in
        <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>
</mapper>